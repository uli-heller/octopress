---
layout: post
author: Uli Heller
published: true
title: "Statische Fotogallerie für Octopress"
date: 2013-09-05 17:00
comments: true
categories:
- Linux
- Octopress
---

In /blog/2013/08/04 habe ich beschrieben, wie ich meine Fotogallerie
in Octopress einbinde. Leider zeigt sich, dass der dort verwendete Ansatz
den ganzen Generierungsprozess ziemlich stark ausbremst.

Ziel dieses Artikels ist die Beschleunigung des Generierungsprozesses.

<!-- more -->

## Problembeschreibung

Das Plugin [Octopress-Gallery](https://github.com/yortz/octopress_gallery)
zur Anzeige der Fotogallerie konvertiert die Bilder automatisch in's
Thumbnail-Format. Es ist zwar ein Algorithmus eingebaut, der die Konvertierung
der Bilder nur dann durchführen soll, wenn sich die Bilder geändert haben -
er funktioniert aber leider nicht.

## Lösungsansatz

* Ich erzeuge ein Skript, welches die Konvertierung vornimmt
* Das Skript selbst hat auch eine "Änderungserkennung", d.h. es werden
  wirklich nur die gänderten Bilder neu konvertiert
* Das Skript muß manuell ausgeführt werden
* Die konvertierten Bilder liegen im Verzeichnis "source" und werden
  mit in Git gespeichert.

Als Konsequenz dieser Änderungen müssen noch:

* Die Konvertierung von [Octopress-Gallery](https://github.com/yortz/octopress_gallery) muß abgeklemmt werden
* Skalierte Bilder einbinden in die Gallerie

## Umsetzung

### Konvertierungsskript

Das Konvertierungsskript befindet sich [auf GitHub](https://github.com/uli-heller/uli-octopress/create-galleries.sh)

### Abklemmen der alten Konvertierung

```
rm -f plugins/mini_magick.rb
```

### Skalierte Bilder einbinden

Hierzu muß die Datei plugins/gallery_tag.rb angepasst werden.
